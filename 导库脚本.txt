1、创建表空间（---以实例名为“zyzl”的实例为例，一般ORACLE11gR2默认实例名为“orcl”---）

CREATE SMALLFILE TABLESPACE NNC_DATA01 DATAFILE 'E:\app\Administrator\oradata\orcl\NNC_DATA01.dbf' SIZE 2048M 
AUTOEXTEND ON NEXT 10000K MAXSIZE UNLIMITED LOGGING EXTENT MANAGEMENT LOCAL SEGMENT SPACE MANAGEMENT AUTO ;

CREATE SMALLFILE TABLESPACE NNC_DATA02 DATAFILE 'E:\app\Administrator\oradata\orcl\NNC_DATA02.dbf' SIZE 2048M 
AUTOEXTEND ON NEXT 10000K MAXSIZE UNLIMITED LOGGING EXTENT MANAGEMENT LOCAL SEGMENT SPACE MANAGEMENT AUTO ;

CREATE SMALLFILE TABLESPACE NNC_DATA03 DATAFILE 'E:\app\Administrator\oradata\orcl\NNC_DATA03.dbf' SIZE 2048M 
AUTOEXTEND ON NEXT 10000K MAXSIZE UNLIMITED LOGGING EXTENT MANAGEMENT LOCAL SEGMENT SPACE MANAGEMENT AUTO ;



CREATE SMALLFILE TABLESPACE NNC_INDEX01 DATAFILE 'E:\app\Administrator\oradata\orcl\NNC_INDEX01.dbf' SIZE 1024M 
AUTOEXTEND ON NEXT 10000K MAXSIZE UNLIMITED LOGGING EXTENT MANAGEMENT LOCAL SEGMENT SPACE MANAGEMENT AUTO ;

CREATE SMALLFILE TABLESPACE NNC_INDEX02 DATAFILE 'E:\app\Administrator\oradata\orcl\NNC_INDEX02.dbf' SIZE 1024M 
AUTOEXTEND ON NEXT 10000K MAXSIZE UNLIMITED LOGGING EXTENT MANAGEMENT LOCAL SEGMENT SPACE MANAGEMENT AUTO ;
 
CREATE SMALLFILE TABLESPACE NNC_INDEX03 DATAFILE 'E:\app\Administrator\oradata\orcl\NNC_INDEX03.dbf' SIZE 1024M 
AUTOEXTEND ON NEXT 10000K MAXSIZE UNLIMITED LOGGING EXTENT MANAGEMENT LOCAL SEGMENT SPACE MANAGEMENT AUTO ;


CREATE SMALLFILE TABLESPACE EPRK_LOB01 DATAFILE 'E:\app\Administrator\oradata\orcl\EPRK_LOB01.dbf' SIZE 1024M 
AUTOEXTEND ON NEXT 10000K MAXSIZE UNLIMITED LOGGING EXTENT MANAGEMENT LOCAL SEGMENT SPACE MANAGEMENT AUTO ;


CREATE SMALLFILE TABLESPACE YLS_BLOB DATAFILE 'E:\app\Administrator\oradata\orcl\YLS_BLOB.dbf' SIZE 1024M 
AUTOEXTEND ON NEXT 10000K MAXSIZE UNLIMITED LOGGING EXTENT MANAGEMENT LOCAL SEGMENT SPACE MANAGEMENT AUTO ;
 

---以用户名为“hszl3”的用户为例---


2、创建用户hszl3,给用户授权（---以用户名为“hszl3”的用户为例---）

drop user  QZ_SIT1 cascade;
create user QZ_SIT1 identified by QZ_SIT1 default tablespace NNC_DATA01 temporary tablespace temp;
grant connect,resource,dba to QZ_SIT1;
grant read,write on directory db to QZ_SIT1;

impdp QZ_SIT1/QZ_SIT1@orcl directory=db dumpfile=20160405.dmp logfile=20160405.log  REMAP_SCHEMA=lease:QZ_SIT1

3、创建数据文件目录并将目录授权与之前创建的用户hszl3（---以目录“D:\db_dir”为例---）

select * from dba_directories;

create directory db as 'D:\db_dir';

grant read,write on directory db to QZ_SIT;

4、导入数据文件

impdp QZ_SIT/QZ_SIT@orcl directory=db dumpfile=HXZL_20160328.dmp logfile=HXZL_20160328.log  REMAP_SCHEMA=lease:QZ_SIT

5、创建strcat函数，执行《创建strcat函数.sql》,提交。

6、数据库备份：

expdp hszl3/hszl3@zyzl directory=db dumpfile=hszl3_20160308exp.dmp logfile=hszl3_20160308exp.log job_name=hszl3_20160308_job

exp hist/hist@orcl file=E:/hist_20160308.dmp  owner=(hist)
exp hist/hist@orcl file=E:/hist_20160308.dmp  owner=(hist)

